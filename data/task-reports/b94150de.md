# Task b94150de: [Seed] Create default memories for fresh installs

- Status: completed
- Agent: fcd98bac
- Session: 3268701a

## Description
Create seed memories that ship with the app so new users get a default agent that understands SwarmClaw.

**Problem:** When a new user installs, the DB is empty. The default agent (Hal 2K) has no memories about how the platform works. Soul persists, memories are per-instance data.

**Solution:** Create a seed file or migration that pre-populates memories for the default agent.

**Memories to seed (based on README.md + CLAUDE.md):**

1. **swarmclaw_task_queue** - Single-file queue, daemon picks up on 30s interval, ONE task at a time globally
2. **swarmclaw_heartbeat_system** - 30s daemon heartbeat, 2min health checks, alerts via WhatsApp, only in 'ongoing' loop mode
3. **swarmclaw_cli_delegation** - Claude/Codex/OpenCode delegation with resume support, `dangerouslyAutoApprove` from settings
4. **swarmclaw_connectors** - Discord/Slack/Telegram/WhatsApp, NO_MESSAGE sentinel, media handling, connector_message_tool
5. **swarmclaw_memory_system** - Separate DB (memory.db), FTS5 + vector embeddings, store/get/search/delete
6. **swarmclaw_session_tools** - spawn/send/stop/history/status, run queue with followup/steer/collect modes
7. **swarmclaw_agent_orchestration** - LangGraph, max 10 turns, auto sub-agent routing
8. **swarmclaw_architecture** - Next.js 16, React 19, SQLite + WAL, JSON-blob storage, SSE streaming
9. **swarmclaw_security** - Access key auth, AES-256 secrets, CLI has full shell access
10. **swarmclaw_new_user_onboarding** - Soul instruction: first session, read docs, store knowledge

**Implementation:**
- Seed file loaded on fresh DB detect OR
- Migration that inserts on first run OR
- Default memories embedded in code as fallback

**Validation:**
- Test with fresh DB to confirm memories appear
- Verify default agent can recall seeded memories
- Ensure no duplicate seeding on existing installs

Scope to agentId='default' so platform agent starts smart.

## Result Summary
Done. Added a seed block in `memory-db.ts:initDb()` (lines 87–145) that:

- Checks if the `memories` table is empty on first init
- Inserts 10 platform knowledge memories scoped to `agentId='default'`
- Runs inside a transaction for atomicity
- FTS5 triggers index them automatically
- Embeddings compute lazily on first access (same as normal memories)

The 10 seeded memories cover: task queue, heartbeat/daemon, CLI delegation, connectors, memory system, session tools, orchestration, architecture, security, and new user onboarding. All use `category: 'platform'` with descriptive titles matching the `swarmclaw_*` naming convention you specified.

On existing installs (memories table already has rows), the seed is skipped — no data loss risk.

## Changed Files
- Done. Added a seed block in `memory-db.ts:initDb()` (lines 87–145) that:

## Commands Run
- Not provided

## Verification
- Not provided
