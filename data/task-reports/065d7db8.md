# Task 065d7db8: Build context management tools and auto-compaction

- Status: completed
- Agent: fcd98bac
- Session: 17005062

## Description
Add comprehensive context management for agents:

1. context_summarize tool - Agent can request conversation summarization
   - Parameters: sessionId (optional), keepLastN (messages to keep), summaryPrompt (custom)
   - Creates summary message, prunes old messages, preserves recent context

2. context_status tool - Check token usage
   - Returns: estimated tokens, provider limit, percentage used
   - Provider context windows: Claude 200K, GPT-4 128K, local models 4K-32K

3. Auto compaction on token limits
   - Token estimation per message
   - Trigger at 80% of context window
   - Strategies: sliding window, summarize-old, hybrid

4. Memory consolidation before pruning
   - Convert important old messages to searchable memories
   - Preserve decisions, commitments, key facts

Files to modify:
- src/tools/session-tools.ts (add tools)
- src/orchestrator.ts (auto-compaction)
- src/providers.ts (context window config)

## Result Summary
Context management tools built - context_status and context_summarize added

## Changed Files
- Not provided

## Commands Run
- Not provided

## Verification
- Not provided
