# Task 8b30f198: Investigate skill registry implementation

- Status: completed
- Agent: fcd98bac
- Session: 5ccbf51e

## Description
Check both swarmclaw (app) repo and site repo for existing skill registry infrastructure. Look for: 1) data/skills.json structure, 2) any /api/skills endpoints, 3) site repo for marketplace/discovery UI. Goal: Understand what's already built before deciding where to enhance.

## Result Summary
## Existing Skill Registry Infrastructure

### swarmclaw-app (Main App)

**Data layer:**
- `data/skills.json` — JSON file storage using the generic collection pattern
- `Skill` type (`src/types/index.ts:307-317`): `id`, `name`, `filename`, `content`, `description`, `sourceUrl`, `sourceFormat` ('openclaw'|'plain'), `createdAt`, `updatedAt`
- `ClaudeSkill` lightweight ref type: `id`, `name`, `description`
- Agents reference skills via `skills[]` (Claude Code skill names) and `skillIds[]` (uploaded skill IDs)

**API endpoints (`src/app/api/skills/`):**

| Route | Methods | Purpose |
|-|-|-|
| `/api/skills` | GET, POST | List all / create new skill |
| `/api/skills/[id]` | GET, PUT, DELETE | Individual CRUD |
| `/api/skills/import` | POST | URL import (max 2MB, auto-detects OpenClaw frontmatter) |

**Normalization:** `src/lib/server/skills-normalize.ts` — parses frontmatter, detects OpenClaw format, sanitizes filenames, derives metadata from URL/content.

**UI:** `src/components/skills/skill-list.tsx` + `skill-sheet.tsx` — list view, create/edit sheet with AI generation and URL import.

**Usage:** Skills are referenced in connectors/manager, stream-agent-chat, session-tools, chat-execution, orchestrator, orchestrator-lg, and several UI components.

---

### swarmclaw-site (Docs Site)

**No marketplace UI** — no dedicated browsing/discovery pages.

**Static assets hosted:**
- `public/registry/plugins.json` — 8 plugins with metadata (name, description, url, tags, downloads, author). Downloads all at zero.
- `public/skills/swarmclaw-bootstrap/SKILL.md` — Bootstrap runbook skill
- `public/skills/openclaw-swarmclaw-bridge/SKILL.md` — OpenClaw bridge skill

**Docs only:** `content/docs/skills.md` explains skill discovery from `~/.claude/skills/*/SKILL.md` and URL import.

---

### Summary

The app has a **complete CRUD + import pipeline** for skills but no discovery/marketplace browsing. The site hosts skill files and a `plugins.json` registry but has **no UI to browse them**

## Changed Files
- `data/skills.json` — JSON file storage using the generic collection pattern
- `Skill` type (`src/types/index.ts:307-317`): `id`, `name`, `filename`, `content`, `description`, `sourceUrl`, `sourceFormat` ('openclaw'|'plain'), `createdAt`, `updatedAt`
- **Normalization:** `src/lib/server/skills-normalize.ts` — parses frontmatter, detects OpenClaw format, sanitizes filenames, derives metadata from URL/content.
- **UI:** `src/components/skills/skill-list.tsx` + `skill-sheet.tsx` — list view, create/edit sheet with AI generation and URL import.
- `public/registry/plugins.json` — 8 plugins with metadata (name, description, url, tags, downloads, author). Downloads all at zero.
- `public/skills/swarmclaw-bootstrap/SKILL.md` — Bootstrap runbook skill
- `public/skills/openclaw-swarmclaw-bridge/SKILL.md` — OpenClaw bridge skill
- **Docs only:** `content/docs/skills.md` explains skill discovery from `~/.claude/skills/*/SKILL.md` and URL import.

## Commands Run
- Not provided

## Verification
- Not provided
